# Http2

HTTP/2（超文本传输协议第2版，最初命名为HTTP 2.0），是HTTP协议的的第二个主要版本，使用于万维网。HTTP/2是HTTP协议自1999年HTTP 1.1发布后的首个更新，主要基于**SPDY协议**（是Google开发的基于TCP的应用层协议，用以最小化网络延迟，提升网络速度，优化用户的网络使用体验）。

## Http 1.0 & Http1.1

HTTP1.0和HTTP1.1最主要的区别就是：

* Http1.0是默认短链接，即每次请求都要重新开启一个新的 http 连接，都要经历三次握手四次挥手，tcp slow start 过程，用户体验很不好
* Http1.0没有 pipeline

Http1.1引入了

* 增加了host 字段
* 利用 http 头部，分块传输，将 entity body分块传输
* pipeline，根据滑动窗口大小，依次可以发送多个 tcp 请求。(但是默认会关闭这个选项，即现在的浏览器还是不是 pipeline 的)



## Http2

http2的改动是

* 使用**单一的长连接**来进行通信，即不管有多少请求，都通过一条连接来完成，如果是在 SSL 上的连接，那么会极大的加快这个过程，因为 SSL 握手过程很慢。所以使用这一条长连接来多路复用，根据 http 首部封装成的 frame 判断送往哪条通道(有点频分复用的感觉)，同时 http 还能对通道增加优先级判断
* **头部压缩和二进制模式**：header 中可能存有的东西可能很大，例如 cookie，最大有4kB 大小，所以有必要对头部进行压缩，使用了 Hpack 的方法进行压缩，实际上就是霍夫曼树，对常见的一些字段(例如 user-agent，content-type 这些信息)进行二进制编码。同时，和 SSL 一样，也使用二进制的方式进行传输。
* **服务端推送**：当客户端请求一个 html 文件的时候，server 会根据其请求的资源主动为客户端推送资源，例如请求一个 html 文件，服务器可能会推送 css，js，img 等文件

## 总结：

总结一下，新特性，用4点来说的话就是

1. 单一长连接多路复用
2. 头部压缩
3. 二进制传输
4. 服务端推送



参考[HTTP 2.0 和 HTTP 1.1 相比有哪些优势呢终?- 终端研发部](https://www.zhihu.com/question/306768582/answer/596746708)


